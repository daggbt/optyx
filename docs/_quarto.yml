project:
  type: website
  output-dir: _site

# Quartodoc configuration for auto-generating API docs
quartodoc:
  package: optyx
  source_dir: ../src/optyx
  dir: api/reference
  title: API Reference
  style: pkgdown
  parser: google
  render_interlinks: true
  
  sections:
    - title: Core Classes
      desc: "Fundamental building blocks for optimization models"
      contents:
        - core.expressions.Variable
        - core.expressions.Constant
        - core.expressions.Expression
    
    - title: Vector & Matrix Variables
      desc: "High-dimensional decision variables for scalable optimization"
      contents:
        - core.vectors.VectorVariable
        - core.vectors.VectorExpression
        - core.vectors.DotProduct
        - core.vectors.L2Norm
        - core.vectors.L1Norm
        - core.vectors.LinearCombination
        - core.matrices.MatrixVariable
        - core.matrices.QuadraticForm
        - core.matrices.MatrixVectorProduct
    
    - title: Parameters
      desc: "Updatable constants for fast re-solves"
      contents:
        - core.parameters.Parameter
        - core.parameters.VectorParameter
    
    - title: Constraints
      desc: "Equality and inequality constraints"
      contents:
        - constraints.Constraint
    
    - title: Problem Definition
      desc: "Building and solving optimization problems"
      contents:
        - problem.Problem
        - solution.Solution
        - solution.SolverStatus
    
    - title: Mathematical Functions
      desc: "Transcendental and special functions for expressions"
      contents:
        - core.functions.sin
        - core.functions.cos
        - core.functions.tan
        - core.functions.exp
        - core.functions.log
        - core.functions.log2
        - core.functions.log10
        - core.functions.sqrt
        - core.functions.abs_
        - core.functions.sinh
        - core.functions.cosh
        - core.functions.tanh
        - core.functions.asin
        - core.functions.acos
        - core.functions.atan
        - core.functions.asinh
        - core.functions.acosh
        - core.functions.atanh
    
    - title: Autodiff
      desc: "Automatic differentiation internals"
      contents:
        - core.autodiff

website:
  title: "Optyx"
  description: "Symbolic optimization for people who hate writing gradients"
  site-url: https://daggbt.github.io/optyx/
  repo-url: https://github.com/daggbt/optyx
  repo-actions: [issue, source]
  
  navbar:
    background: primary
    logo: assets/logo.png
    left:
      - text: "Getting Started"
        menu:
          - text: "Installation"
            href: getting-started/installation.qmd
          - text: "Quickstart"
            href: getting-started/quickstart.qmd
          - text: "Core Concepts"
            href: getting-started/concepts.qmd
          - text: "How It Works"
            href: getting-started/how-it-works.qmd
      - text: "Tutorials"
        menu:
          - text: "Basic Optimization"
            href: tutorials/basic-optimization.qmd
          - text: "Working with Constraints"
            href: tutorials/constraints.qmd
          - text: "Automatic Differentiation"
            href: tutorials/autodiff.qmd
          - text: "---"
          - text: "v1.2.0 Features"
          - text: "Vector Variables"
            href: tutorials/vectors.qmd
          - text: "Matrix Variables"
            href: tutorials/matrices.qmd
      - text: "Examples"
        menu:
          - text: "Portfolio Optimization"
            href: examples/portfolio.qmd
          - text: "Fleet Dispatch"
            href: examples/fleet-dispatch.qmd
          - text: "Mine Scheduling"
            href: examples/mine-scheduling.qmd
          - text: "Road Maintenance"
            href: examples/road-maintenance.qmd
          - text: "Rosenbrock Function"
            href: examples/rosenbrock.qmd
          - text: "---"
          - text: "Large-Scale (v1.2.0)"
          - text: "Resource Allocation"
            href: examples/resource-allocation.qmd
          - text: "Advanced Portfolio (Covariance)"
            href: examples/portfolio-advanced.qmd
      - text: "API Reference"
        menu:
          - text: "Overview"
            href: api/index.qmd
          - text: "---"
          - text: "Guides"
          - text: "Expressions"
            href: api/expressions.qmd
          - text: "Vector Variables"
            href: api/vectors.qmd
          - text: "Matrix Variables"
            href: api/matrices.qmd
          - text: "Parameters"
            href: api/parameters.qmd
          - text: "Constraints"
            href: api/constraints.qmd
          - text: "Problem"
            href: api/problem.qmd
          - text: "Solution"
            href: api/solution.qmd
          - text: "Autodiff"
            href: api/autodiff.qmd
          - text: "---"
          - text: "Auto-Generated"
          - text: "Full API Reference"
            href: api/reference/index.qmd
      - text: "Benchmarks"
        href: benchmarks.qmd
      - text: "Contributing"
        href: contributing.qmd
    right:
      - icon: github
        href: https://github.com/daggbt/optyx
  
  sidebar:
    - title: "Getting Started"
      style: "docked"
      contents:
        - getting-started/installation.qmd
        - getting-started/quickstart.qmd
        - getting-started/concepts.qmd
        - getting-started/how-it-works.qmd
    
    - title: "Tutorials"
      contents:
        - tutorials/basic-optimization.qmd
        - tutorials/constraints.qmd
        - tutorials/autodiff.qmd
        - section: "v1.2.0 Features"
          contents:
            - tutorials/vectors.qmd
            - tutorials/matrices.qmd
    
    - title: "Examples"
      contents:
        - examples/portfolio.qmd
        - examples/fleet-dispatch.qmd
        - examples/mine-scheduling.qmd
        - examples/road-maintenance.qmd
        - examples/rosenbrock.qmd
        - section: "Large-Scale (v1.2.0)"
          contents:
            - examples/resource-allocation.qmd
            - examples/portfolio-advanced.qmd
    
    - title: "API Reference"
      contents:
        - api/index.qmd
        - section: "Guides"
          contents:
            - api/expressions.qmd
            - api/constraints.qmd
            - api/problem.qmd
            - api/solution.qmd
            - api/autodiff.qmd
        - section: "Full Reference"
          contents:
            - api/reference/index.qmd
    
    - title: "Benchmarks"
      contents:
        - benchmarks.qmd
  
  page-footer:
    left: "Â© 2025 Optyx Contributors"
    right:
      - icon: github
        href: https://github.com/daggbt/optyx

format:
  html:
    theme: cosmo
    css: styles.css
    toc: true
    toc-depth: 3
    number-sections: true
    code-copy: true
    code-overflow: wrap
    highlight-style: github
    include-after-body: assets/js/page-nav.js
    date-format: "MMMM D, YYYY"

execute:
  kernel: optyx-docs
  freeze: auto
