---
title: "Contributing"
description: "How to contribute to Optyx development"
---

## Welcome Contributors! ðŸŽ‰

Thank you for your interest in contributing to Optyx! This guide will help you get started with development.

## Development Setup

### Prerequisites

- Python 3.12 or higher
- [uv](https://docs.astral.sh/uv/) package manager (recommended)
- Git

### Clone and Install

```bash
# Clone the repository
git clone https://github.com/daggbt/optyx.git
cd optyx

# Create virtual environment and install dependencies
uv sync

# Verify installation
uv run python -c "import optyx; print(optyx.__version__)"
```

### Set Up Pre-commit Hooks

We use pre-commit hooks to automatically check code quality before commits:

```bash
# Install pre-commit
uv pip install pre-commit

# Install the git hooks
pre-commit install

# (Optional) Run hooks on all files
pre-commit run --all-files
```

Now ruff (linting & formatting) and pyright (type checking) will run automatically on staged files before each commit.

### Alternative: pip

```bash
# Create virtual environment
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate

# Install in development mode
pip install -e ".[dev]"
```

## Project Structure

```
optyx/
â”œâ”€â”€ src/optyx/           # Source code
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ expressions.py   # Variable, Constant, operators
â”‚   â”‚   â”œâ”€â”€ functions.py     # Mathematical functions (sin, cos, exp, etc.)
â”‚   â”‚   â”œâ”€â”€ compiler.py      # Expression â†’ NumPy/SciPy compilation
â”‚   â”‚   â”œâ”€â”€ autodiff.py      # Symbolic differentiation
â”‚   â”‚   â””â”€â”€ verification.py  # Gradient verification utilities
â”‚   â””â”€â”€ __init__.py          # Public API exports
â”œâ”€â”€ tests/               # Test suite
â”œâ”€â”€ docs/                # Quarto documentation
â”œâ”€â”€ examples/            # Runnable example scripts
â””â”€â”€ pyproject.toml       # Project configuration
```

## Running Tests

```bash
# Run all tests
uv run pytest

# Run with coverage
uv run pytest --cov=optyx --cov-report=html

# Run specific test file
uv run pytest tests/test_expressions.py

# Run tests matching a pattern
uv run pytest -k "test_gradient"
```

## Code Style

### Formatting

We use [Ruff](https://docs.astral.sh/ruff/) for formatting and linting:

```bash
# Format code
uv run ruff format src tests

# Check for issues
uv run ruff check src tests

# Auto-fix issues
uv run ruff check --fix src tests
```

### Type Checking

We use [pyright](https://microsoft.github.io/pyright/) for static type checking:

```bash
uv run pyright src
```

### Docstrings

All public APIs must have NumPy-style docstrings:

```python
def compute_jacobian(
    expressions: list[Expression],
    variables: list[Variable],
) -> list[list[Expression]]:
    """
    Compute the Jacobian matrix of expressions with respect to variables.

    Parameters
    ----------
    expressions : list[Expression]
        List of expressions to differentiate.
    variables : list[Variable]
        List of variables to differentiate with respect to.

    Returns
    -------
    list[list[Expression]]
        Jacobian matrix where J[i][j] = âˆ‚expressions[i]/âˆ‚variables[j].

    Examples
    --------
    >>> x, y = Variable("x"), Variable("y")
    >>> exprs = [x**2 + y, x * y]
    >>> J = compute_jacobian(exprs, [x, y])
    """
```

## Pull Request Process

### 1. Create a Branch

```bash
# Create feature branch from main
git checkout main
git pull origin main
git checkout -b feature/your-feature-name
```

### 2. Make Changes

- Write code following our style guide
- Add tests for new functionality
- Update documentation if needed

### 3. Test Locally

```bash
# Run the full test suite
uv run pytest

# Check formatting
uv run ruff format --check src tests

# Check linting
uv run ruff check src tests

# Check types
uv run pyright src
```

**Note**: If you've set up pre-commit hooks, these checks run automatically on commit. You can also run them manually with `pre-commit run --all-files`.

### 4. Commit and Push

```bash
# Stage changes
git add .

# Commit with descriptive message
git commit -m "feat: add support for matrix operations"

# Push to your fork
git push origin feature/your-feature-name
```

### 5. Open Pull Request

- Go to [GitHub](https://github.com/daggbt/optyx/pulls)
- Click "New Pull Request"
- Select your branch
- Fill in the PR template
- Request review

## Commit Message Guidelines

We follow [Conventional Commits](https://www.conventionalcommits.org/):

| Type | Description |
|------|-------------|
| `feat:` | New feature |
| `fix:` | Bug fix |
| `docs:` | Documentation only |
| `style:` | Formatting, no code change |
| `refactor:` | Code restructuring |
| `test:` | Adding tests |
| `chore:` | Maintenance tasks |

**Examples:**

```
feat: add symbolic matrix multiplication
fix: correct gradient computation for division
docs: add tutorial for constraint handling
test: add edge cases for autodiff
```

## Areas for Contribution

### Current Priorities

1. **Documentation & Examples**
   - More real-world application examples (finance, logistics, engineering, ML)
   - Tutorial enhancements and walkthroughs
   - API reference improvements with usage patterns

2. **Developer Experience**
   - Better error messages and diagnostic output
   - Debugging utilities for gradient verification
   - Enhanced IDE support and type hints

3. **Performance & Benchmarking**
   - Benchmark suite against other optimization libraries
   - Performance profiling and optimization
   - Expression simplification algorithms
   - Compilation and caching strategies

4. **Test Coverage**
   - Edge cases and boundary conditions
   - Numerical stability tests
   - Cross-platform compatibility

### Future Features (v1.2+)

- **Advanced Backends**: JAX integration for GPU acceleration and JIT compilation, custom solver backends (Gurobi, CPLEX, MOSEK)
- **Optimization Intelligence**: Convex optimization detection, problem classification and solver recommendation
- **Scalability**: Sparse matrix support for large-scale problems, distributed computing capabilities
- **Ecosystem Integration**: PyTorch/TensorFlow integration examples, scikit-learn pipeline compatibility, pandas DataFrame workflows

## Documentation

### Preview Docs Locally

```bash
# Install Quarto: https://quarto.org/docs/get-started/
cd docs
quarto preview
```

### Writing Documentation

- Use Quarto Markdown (`.qmd` files)
- Include executable Python code blocks
- Add LaTeX for mathematical notation

## Getting Help

- **GitHub Issues**: Bug reports and feature requests
- **Discussions**: Questions and community support

## Code of Conduct

Please be respectful and constructive in all interactions. We're building a welcoming community for everyone interested in symbolic optimization.

---

Thank you for contributing to Optyx! ðŸš€
